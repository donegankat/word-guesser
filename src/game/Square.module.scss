@import "../styles/variables.scss";

.square {
	background: #202327;
	color: lightgray;
	border: 1px solid #999;
	font-size: 3rem;
	font-weight: bold;
	margin-right: 5px;
	margin-top: -1px;
	padding: 0;
	text-align: center;
	text-transform: uppercase;
	aspect-ratio: 1 / 1;

	// Used to "flip" the square to reveal the guess accuracy.
	perspective: 1000px;
	transform-style: preserve-3d;
	transition: transform 0.8s, background-color 0.8s, box-shadow 0.3s;

	&:last-child {
		margin-right: 0;
	}

	&:focus {
		outline: none;
	}

	&.invalidSubmittedGuess {
		box-shadow: inset 0 0 8px 3px #995208;
	}

	&.squareHighlighted {
		transform: rotateY(-180deg) scaleX(-1);
	}

	&.squareHighlightedCorrect {
		background: $color-correct;
	}

	&.squareHighlightedCorrectLetterWrongLocation {
		background: $color-correct-wrong-location;
	}

	&.squareHighlightedIncorrect {
		background: $color-incorrect;
	}



	/* Conditional sizing based on the number of squares */
	
	/* Four squares */
	&:first-child:nth-last-child(4),
	&:first-child:nth-last-child(4) ~ .square {
		height: 7vmax;
		font-size: 5.1vmax;
	}
	
	/* Five squares */
	&:first-child:nth-last-child(5),
	&:first-child:nth-last-child(5) ~ .square {
		height: 7vmax;
		font-size: 5.0vmax;
	}
	
	/* Six squares */
	&:first-child:nth-last-child(6),
	&:first-child:nth-last-child(6) ~ .square {
		height: 6vmax;
		font-size: 4.5vmax;
	}

	/* Seven squares */
	&:first-child:nth-last-child(7),
	&:first-child:nth-last-child(7) ~ .square {
		height: 5vmax;
		font-size: 3.8vmax;
	}

	/* Eight squares */
	&:first-child:nth-last-child(8),
	&:first-child:nth-last-child(8) ~ .square {
		height: 4vmax;
		font-size: 3vmax;
	}

	/* Nine squares */
	&:first-child:nth-last-child(9),
	&:first-child:nth-last-child(9) ~ .square {
		height: 3vmax;
		font-size: 2.2vmax;
	}

	/* Ten squares */
	&:first-child:nth-last-child(10),
	&:first-child:nth-last-child(10) ~ .square {
		height: 3vmax;
		font-size: 2.2vmax;
	}
}